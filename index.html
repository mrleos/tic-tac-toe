<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
        table {
      border-collapse: collapse;
    }
    
    td {
      width: 50px;
      height: 50px;
      border: 1px solid black;
      text-align: center;
    }
</style>
<body>
    <p>CURRENT PLAYER : <span id="player"></span></p>
    <table>
        <tr>
            <td id="k0" onclick="choose(0)"></td>
            <td id="k1" onclick="choose(1)"></td>
            <td id="k2" onclick="choose(2)"></td>
        </tr>
        <tr>
            <td id="k3" onclick="choose(3)"></td>
            <td id="k4" onclick="choose(4)"></td>
            <td id="k5" onclick="choose(5)"></td>
        </tr>
        <tr>
            <td id="k6" onclick="choose(6)"></td>
            <td id="k7" onclick="choose(7)"></td>
            <td id="k8" onclick="choose(8)"></td>
        </tr>
    </table>
    <p>THE WINNER : <span id="wins"></span></p>
    <script>
 var player = 0
    var player_name = ['X', 'O']
    var draw = 0
    // THE BOXES ARRAY
    var boxes = ['', '', '', '', '', '', '', '', '']

    function choose(box_index){
        elem = document.getElementById('k'+box_index)
        if (elem.textContent != ""){
            alert("already filled")
            return
        }
        if (player == 0 ){
            elem.textContent = "X"
            player = 1
            draw+=1
            // TODO
            // insert boxes with box_index
            boxes[box_index] = 'X'
        }
        else
        {
            elem.textContent = "O"
            player = 0
            draw+=1
            // TODO
            // insert boxes with box_index
            boxes[box_index] = 'O'
        }
        // TODO
        // write check winner script
        // if winnner found, display it at the bottom of table
        var win = [[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]]
        for (let i of win){
            if (boxes[i[0]]=='X' && boxes[i[1]]=='X' && boxes[i[2]]=='X' || boxes[i[3]]=='X' && boxes[i[4]]=='X' && boxes[i[5]]=='X' || boxes[i[6]]=='X' && boxes[i[7]]=='X'){
                alert('player X win')
            }
            if (boxes[i[0]]=='O' && boxes[i[1]]=='O' && boxes[i[2]]=='O' || boxes[i[3]]=='O' && boxes[i[4]]=='O' && boxes[i[5]]=='O' || boxes[i[6]]=='O' && boxes[i[7]]=='O'){
                alert('player O win')
            }
        }
        if (draw==boxes.length){
            alert('draw')
        }
        document.getElementById('player').textContent = player_name[player]
    }
    document.getElementById('player').textContent = player_name[player]
    </script>
</body>
</html>